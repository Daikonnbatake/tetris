/***********************************************************************
 *
 * 　どの方向からどの方向へ回転したかを保持するクラス.
 *
***********************************************************************/

class RotateDiff
{
    #nowAngle;     // number:                 現在の回転情報.
    #oldAngle;     // number:                 1つ前の回転情報.
    static #table; // Object<number, string>: 文字列に変換するための表.


    /*-----------------------------------------------------------------+
    *
    * 説明: コンストラクタ.
    *
    +-----------------------------------------------------------------*/
    constructor()
    {
        this.#nowAngle = 0;
        this.#oldAngle = 3;
        RotateDiff.#table =
        {
            0: 'N',
            1: 'E',
            2: 'S',
            3: 'W',
        }
    }


    /*-----------------------------------------------------------------+
    *
    * 説明: 左に 90 度回転する.
    *
    +-----------------------------------------------------------------*/
    TurnLeft()
    {
        this.#oldAngle = this.#nowAngle;
        this.#nowAngle = (this.#nowAngle + 3) % 4;
    }


    /*-----------------------------------------------------------------+
    *
    * 説明: 右に 90 度回転する.
    *
    +-----------------------------------------------------------------*/
    TurnRight()
    {
        this.#oldAngle = this.#nowAngle;
        this.#nowAngle = (this.#nowAngle + 1) % 4;
    }


    /*-----------------------------------------------------------------+
    *
    * 説明: 角度の差を文字列として取得する.
    *
    * 戻り値:
    *   string: 角度の差を表す文字列.
    *
    +-----------------------------------------------------------------*/
    ToString()
    {
        let old = RotateDiff.#table[this.#oldAngle];
        let now = RotateDiff.#table[this.#nowAngle];
        return old + 'to' + now;
    }


    /*-----------------------------------------------------------------+
    *
    * 説明: 北から西への回転した場合の角度の差を文字列として取得する.
    *
    +-----------------------------------------------------------------*/
    static NtoW()
    {
        return 'NtoW';
    }


    /*-----------------------------------------------------------------+
    *
    * 説明: 北から東への回転した場合の角度の差を文字列として取得する.
    *
    +-----------------------------------------------------------------*/
    static NtoE()
    {
        return 'NtoE';
    }


    /*-----------------------------------------------------------------+
    *
    * 説明: 東から北への回転した場合の角度の差を文字列として取得する.
    *
    +-----------------------------------------------------------------*/
    static EtoN()
    {
        return 'EtoN';
    }


    /*-----------------------------------------------------------------+
    *
    * 説明: 東から南への回転した場合の角度の差を文字列として取得する.
    *
    +-----------------------------------------------------------------*/
    static EtoS()
    {
        return 'EtoS';
    }


    /*-----------------------------------------------------------------+
    *
    * 説明: 南から東への回転した場合の角度の差を文字列として取得する.
    *
    +-----------------------------------------------------------------*/
    static StoE()
    {
        return 'StoE';
    }


    /*-----------------------------------------------------------------+
    *
    * 説明: 南から西への回転した場合の角度の差を文字列として取得する.
    *
    +-----------------------------------------------------------------*/
    static StoW()
    {
        return 'StoW';
    }


    /*-----------------------------------------------------------------+
    *
    * 説明: 西から南への回転した場合の角度の差を文字列として取得する.
    *
    +-----------------------------------------------------------------*/
    static WtoS()
    {
        return 'WtoS';
    }


    /*-----------------------------------------------------------------+
    *
    * 説明: 西から北への回転した場合の角度の差を文字列として取得する.
    *
    +-----------------------------------------------------------------*/
    static WtoN()
    {
        return 'WtoN';
    }
}